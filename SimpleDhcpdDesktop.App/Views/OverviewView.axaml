<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:SimpleDhcpdDesktop.App.ViewModels"
             x:Class="SimpleDhcpdDesktop.App.Views.OverviewView"
             x:DataType="vm:MainConfigurationViewModel">
  <StackPanel Spacing="24">
    <UniformGrid Columns="2" Rows="2" ColumnSpacing="16" RowSpacing="16">
      <Border Background="{DynamicResource CardBackground}"
              CornerRadius="{DynamicResource CornerRadiusMedium}"
              Padding="24">
        <StackPanel Spacing="12">
          <TextBlock Text="Configuration File"
                     Classes="heading" />
          <TextBlock Text="{Binding ConfigFilePath}"
                     TextWrapping="Wrap"
                     Classes="subheading"
                     Margin="0,4,0,0" />
          <Button Content="Change File..."
                  Command="{Binding SelectConfigurationFileCommand}"
                  Margin="0,12,0,0"
                  HorizontalAlignment="Left"
                  Padding="12,6" />
        </StackPanel>
      </Border>

      <Border Background="{DynamicResource CardBackground}"
              CornerRadius="{DynamicResource CornerRadiusMedium}"
              Padding="24">
        <StackPanel Spacing="12">
          <TextBlock Text="Status"
                     Classes="heading" />
          <StackPanel Orientation="Horizontal" Spacing="8" Margin="0,4,0,0">
            <Ellipse Width="12" Height="12" Fill="#FF4CAF50" />
            <TextBlock Text="{Binding StatusMessage, FallbackValue='Ready'}"
                       Classes="subheading" />
          </StackPanel>
          <TextBlock Text="{Binding HasUnsavedChanges, Converter={StaticResource BoolToTextConverter}, ConverterParameter='Unsaved Changes|No Changes'}"
                     Classes="subheading"
                     Margin="0,8,0,0" />
        </StackPanel>
      </Border>

      <Border Background="{DynamicResource CardBackground}"
              CornerRadius="{DynamicResource CornerRadiusMedium}"
              Padding="24">
        <StackPanel Spacing="12">
          <TextBlock Text="Quick Actions"
                     Classes="heading" />
          <StackPanel Spacing="8" Margin="0,8,0,0">
            <Button Content="Save As..."
                    Command="{Binding SaveAsConfigurationCommand}"
                    HorizontalAlignment="Stretch"
                    Padding="12,8" />
            <Button Content="New Configuration"
                    Command="{Binding NewConfigurationCommand}"
                    HorizontalAlignment="Stretch"
                    Padding="12,8"
                    Classes="secondary" />
          </StackPanel>
        </StackPanel>
      </Border>

      <Border Background="{DynamicResource CardBackground}"
              CornerRadius="{DynamicResource CornerRadiusMedium}"
              Padding="24">
        <StackPanel Spacing="12">
          <TextBlock Text="Statistics"
                     Classes="heading" />
          <StackPanel Spacing="8" Margin="0,8,0,0">
            <Grid ColumnDefinitions="*,Auto">
              <TextBlock Text="Subnets:" Classes="subheading" />
              <TextBlock Text="{Binding Subnets.Subnets.Count, FallbackValue=0}"
                         Grid.Column="1"
                         Classes="subheading" />
            </Grid>
            <Grid ColumnDefinitions="*,Auto">
              <TextBlock Text="Global Options:" Classes="subheading" />
              <TextBlock Text="{Binding GlobalOptions.Options.Count, FallbackValue=0}"
                         Grid.Column="1"
                         Classes="subheading" />
            </Grid>
          </StackPanel>
        </StackPanel>
      </Border>
    </UniformGrid>
  </StackPanel>
</UserControl>
